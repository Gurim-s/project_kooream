<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.kooream.mapper.BrandProductMapper">
	<insert id="insert" parameterType="com.kooream.domain.ProductVO">
		insert into PRODUCT
		(p_no, b_no, p_name_ko, p_name_en, p_size, p_model_no, p_release_price, p_category, p_class, p_brand)
		values(seq_PRODUCT.nextval, #{b_no}, #{p_name_ko}, #{p_name_en}, #{p_size}, #{p_model_no},  #{p_release_price}, #{p_category}, 'brand', #{p_brand} )
	</insert>
	<select id="getList" resultType="com.kooream.domain.ProductVO">
	<!-- 		<![CDATA[
				select * from PRODUCT where p_no > 0
			]]> -->
			SELECT * FROM PRODUCT ORDER BY p_no DESC
	<!-- 		select PRODUCT.p_no, PRODUCT.b_no, PRODUCT.p_name_ko, PRODUCT.p_name_en, PRODUCT.p_size, PRODUCT.p_model_no, PRODUCT.P_RELEASE_PRICE
			, PRODUCT.P_CATEGORY, PRODUCT.P_CLASS, brand_member.b_name from PRODUCT, brand_member 
			where  PRODUCT.b_no = brand_member.#{b_no} ORDER BY p_no DESC ; -->
	</select>
	<select id="read" resultType="com.kooream.domain.ProductVO">
		select * from PRODUCT where p_no=#{p_no}
	</select>
	<update id="update" parameterType="com.kooream.domain.ProductVO">
		update PRODUCT 
		set
		b_no=#{b_no},
		p_name_ko=#{p_name_ko},
		p_name_en=#{p_name_en},
		p_size=#{p_size}, 
		p_model_no=#{p_model_no}, 
		p_release_price=#{p_release_price}, 
		p_category=#{p_category}
		where
			p_no=#{p_no}

	</update>
	 <select id="getPno" resultType="int">
	
	      select p_no
	      from PRODUCT
	      WHERE rownum = 1
	      order by p_no desc
	</select>
	<delete id="remove">
		delete from PRODUCT where p_no=#{p_no}
	</delete>
	

	
</mapper> 